<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
<script src="https://cesium.com/downloads/cesiumjs/releases/1.82/Build/Cesium/Cesium.js"></script>
<link href="https://cesium.com/downloads/cesiumjs/releases/1.82/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
<link href="style.css" rel="stylesheet">
</head>
<style>
  #cesiumContainer {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    margin: 0;
    overflow: hidden;
    padding: 0;
    font-family: sans-serif;
  }
  html {
    height: 100%;
  }
  body {
    padding: 0;
    margin: 0;
    overflow: hidden;
    height: 100%;
  }
</style>
<body>
  <div id="cesiumContainer"></div>
  <script>
    // Get your token from https://cesium.com/ion/tokens
    //Cesium.Ion.defaultAccessToken = 'your_token_here';
    //const viewer = new Cesium.Viewer('cesiumContainer');
    // Cesium ionの読み込み指定
    Cesium.Ion.defaultAccessToken = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI5N2UyMjcwOS00MDY1LTQxYjEtYjZjMy00YTU0ZTg5MmViYWQiLCJpZCI6ODAzMDYsImlhdCI6MTY0Mjc0ODI2MX0.dkwAL1CcljUV7NA7fDbhXXnmyZQU_c-G5zRx8PtEcxE";

    // Terrainの指定（EGM96、国土数値情報5m標高から生成した全国の地形モデル、5m標高データが無い場所は10m標高で補完している）
    var viewer = new Cesium.Viewer("cesiumContainer", {
      terrainProvider: new Cesium.CesiumTerrainProvider({
        url: Cesium ionResource.fromAssetId(770371)
      })
    });

     // PLATEAU-Orthoの参照
     var imageProvider = new Cesium.UrlTemplateImageryProvider({
      url: 'https://gic-plateau.s3.ap-northeast-1.amazonaws.com/2020/ortho/tiles/{z}/{x}/{y}.png',
      maximumLevel: 19
    });
    var currentImage = viewer.scene.imageryLayers.addImageryProvider(imageProvider);

   // 東京都千代田区の建物データ（3D Tiles）
    var your_3d_tiles = viewer.scene.primitives.add(new Cesium.Cesium3DTileset({
      url: 'https://assets.cms.plateau.reearth.io/assets/11/6d05db-ed47-4f88-b565-9eb385b1ebb0/13100_tokyo23-ku_2022_3dtiles%20_1_1_op_bldg_13101_chiyoda-ku_lod1/tileset.json'
    }));
    
    // imageryProviderを設定
    // var viewer = new Cesium.Viewer('cesiumContainer', {
    //     imageryProvider: new Cesium.UrlTemplateImageryProvider({
    //       url: 'https://cyberjapandata.gsi.go.jp/xyz/seamlessphoto/{z}/{x}/{y}.jpg',
    //     }),
    //     baseLayerPicker: true,
    //     timeline : true,
    //     animation : true,
    //     homeButton: true,
    //     vrButton: true,
    //     geocoder:true,
    //     sceneModePicker:true,
    //     navigationHelpButton:true
    // });
    
    //add point
    viewer.entities.add({
      name:"博多駅", //レイヤ名
      description:"博多駅",　//レイヤの説明
        position : Cesium.Cartesian3.fromDegrees(130.42034071723572,33.590188336436,100), //経度,緯度,高さ
        point : {
            pixelSize : 10, //ポイントのサイズ
            color : Cesium.Color.BLUE //ポイントの色
        }
    });

    viewer.dataSources.add(Cesium.KmlDataSource.load("http://agora.ex.nii.ac.jp/digital-typhoon/kml/typhoon/wnp/2023.ja.kmz"));
    
    //geojson kml add できなーーーい
    //
    viewer.dataSources.add(Cesium.GeoJsonDataSource.load('https://siesta-club.github.io/cesium/Cesium-1.114/gmap/sample_rain.geojson', {
      stroke: Cesium.Color.HOTPINK,
      fill: Cesium.Color.PINK,
      strokeWidth: 3,
      markerSymbol: '?'
    }));
   
    viewer.dataSources.add(Cesium.KmlDataSource.load('https://siesta-club.github.io/cesium/Cesium-1.114/gmap/river_line.kmz'));
    
    // viewer.dataSources.add(
    //     Cesium.KmlDataSource.load("https://www.siesta-club.co.jp/www/gmap/sampleKML_1.kmz", {
    //         camera: viewer.camera,
    //         canvas: viewer.canvas
    //     })
    // );

    //①建物モデルの追加
    var your_3d_tiles =viewer.scene.primitives.add(new Cesium.Cesium3DTileset({
      url : 'https://assets.cms.plateau.reearth.io/assets/b7/698db2-2d1a-415f-9906-c8a54261fccd/40130_fukuoka-shi_2022_3dtiles_1_op_bldg_40132_hakata-ku_lod2/tileset.json'
    }));
    // ②カメラのズーム
    viewer.zoomTo(your_3d_tiles);
  </script>
</body>
</html>